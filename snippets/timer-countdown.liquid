<div id="countdown-timer" 
  data-end-date="{{ settings.end_date }}T{{ settings.end_time }}Z">
<span id="days">00</span> days 
<span id="hours">00</span> hours 
<span id="minutes">00</span> minutes 
<span id="seconds">00</span> seconds
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
 const countdownTimer = document.getElementById('countdown-timer');
 const endDate = new Date(countdownTimer.getAttribute('data-end-date')).getTime();

 function updateCountdown() {
   const now = new Date().getTime();
   const distance = endDate - now;

   if (distance < 0) {
     countdownTimer.innerHTML = "Sale Ended";
     return;
   }

   const days = Math.floor(distance / (1000 * 60 * 60 * 24));
   const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
   const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
   const seconds = Math.floor((distance % (1000 * 60)) / 1000);

   countdownTimer.querySelector('#days').textContent = String(days).padStart(2, '0');
   countdownTimer.querySelector('#hours').textContent = String(hours).padStart(2, '0');
   countdownTimer.querySelector('#minutes').textContent = String(minutes).padStart(2, '0');
   countdownTimer.querySelector('#seconds').textContent = String(seconds).padStart(2, '0');
 }

 setInterval(updateCountdown, 1000);
});
</script>
